{% extends "base.html" %}
{% load static %}
{% block content %}

<body class="g-sidenav-show  bg-gray-100">
<aside class="sidenav navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-3 " id="sidenav-main">
	<div class="sidenav-header">
		<i class="fas fa-times p-3 cursor-pointer text-secondary opacity-5 position-absolute end-0 top-0 d-none d-xl-none" aria-hidden="true" id="iconSidenav"></i>
		<a class="navbar-brand m-0" href="http://tour.primorsky.ru" target="_blank">
			<i class="fa fa-info py-2" style="font-size: 30px;"> </i>
			<span class="ms-1 font-weight-bold">ТИЦ ПК</span>
		</a>
	</div>

	<hr class="horizontal dark mt-0">
	<div class="collapse navbar-collapse  w-auto " id="sidenav-collapse-main">
		<ul class="navbar-nav">
			<li class="nav-item">
				<a class="nav-link main-nav-item" id="eat" href="../ce">
					<div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
						<i class="fa fa-coffee py-2" style="font-size: 14px; color:black; opacity: 0.6"> </i>
					</div>
					<span class="nav-link-text ms-1">ПОП</span>
				</a>
			</li>

			<li class="nav-item">
				<a class="nav-link main-nav-item" id="hotel" href="../caf">
					<div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
						<i class="fa fa-hotel py-2" style="font-size: 14px; color:black; opacity: 0.6"> </i>
					</div>
					<span class="nav-link-text ms-1">КСР</span>
				</a>
			</li>
			<li class="nav-item">
				<a class="nav-link main-nav-item" id="tourism" href="../tour">
					<div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
						<i class="fa fa-map py-2" style="font-size: 14px; color:black; opacity: 0.6"> </i>
					</div>
					<span class="nav-link-text ms-1">Турфирмы</span>
				</a>
			</li>
			<li class="nav-item">
				<a class="nav-link main-nav-item" id="culture" href="../culture">
					<div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
						<i class="fa fa-university py-2" style="font-size: 17px; color:black; opacity: 0.6"> </i>
					</div>
					<span class="nav-link-text ms-1">Культурный отдых</span>
				</a>
			</li>
			<li class="nav-item">
				<a class="nav-link main-nav-item" id="attr" href="../attr">
					<div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
						<i class="fa fa-photo py-2" style="font-size: 17px; color:black; opacity: 0.6"> </i>

					</div>
					<span class="nav-link-text ms-1">Аттракции</span>
				</a>
			</li>
			
			<li class="nav-item">
				<a class="nav-link main-nav-item" id="{{db_nane}}" href="../search">
					<div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
						<i class="fa fa-search py-2" style="font-size: 17px; color:black; opacity: 0.6"> </i>

					</div>
					<span class="nav-link-text ms-1">Поиск</span>
				</a>
			</li>
			<!--<li class="nav-item">
				<a class="nav-link  " href="../pages/rtl.html">
					<div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
						<i class="fa fa-flash py-2" style="font-size: 14px; color:black; opacity: 0.6"> </i>
					</div>
					<span class="nav-link-text ms-1">Итог</span>
				</a>
			</li>-->
			<li class="nav-item mt-3">
				<h6 class="ps-4 ms-2 text-uppercase text-xs font-weight-bolder opacity-6">{{user_name}}</h6>
			</li>

			<li class="nav-item">
				<a class="nav-link  " href="">
					<div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
						<i class="fa fa-sign-out" style="font-size: 14px; color:black; opacity: 0.6"> </i>

					</div>
					<span class="nav-link-text ms-1">Выйти</span>
				</a>
			</li>

		</ul>
	</div>

</aside>

<script>
var li = document.querySelectorAll('.main-nav-item');
li.forEach(function(item, i, li) {
	if (item['id'] === {{db_nane}}['id'])
	{
		document.getElementById(item['id']).classList.add("active");
		var i_tag = document.querySelector("#" + item['id'] + " i")
		i_tag.removeAttribute("opacity");
		i_tag.removeAttribute("color");
	}
});

</script>

<main class="main-content position-relative max-height-vh-100 h-100 border-radius-lg ">



	<div class="container-fluid">
			<div class="page-header min-height-300 border-radius-xl mt-4" style="background-position-y: 50%; background-image:url({% static 'img/curved-images/curved0.jpg' %}">
				<span class="mask bg-gradient-primary opacity-6"></span>
			</div>
		<div class="card card-body blur shadow-blur mx-4 mt-n6 overflow-hidden">
			<div class="row gx-4">
				<div class="col-auto">
				</div>

				<div class="col-auto my-auto py-1">
					<div class="h-100">
						<h3 class="font-weight-bolder mb-0">{{page_name}}</h3>
					</div>
				</div>
			</div>
		</div>
	</div>


	<div class="container-fluid py-4">
		<div class="row">
			<div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
				<div class="card">
					<div class="card-body p-3">
						<div class="row">
							<div class="col-8">
								<div class="numbers">
									<p class="mb-0 font-weight-bold">Количество компаний</p>
									<h5 class="font-weight-bolder mb-0">
										{{companies.gis.0|add:companies.vl.0|add:companies.trip.0}}
									</h5>
								</div>
							</div>
							<div class="col-4 text-end">
								<div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md">
									<i class="fa fa-cog text-lg opacity-10" aria-hidden="true"></i>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
				<div class="card">
					<div class="card-body p-3">
						<div class="row">
							<div class="col-8">
								<div class="numbers">
									<p class="mb-0 font-weight-bold">Количество отзывов</p>
									<h5 class="font-weight-bolder mb-0">
										{{reviews.gis.0|add:reviews.vl.0|add:reviews.trip.0}}
									</h5>
								</div>
							</div>
							<div class="col-4 text-end">
								<div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md">
									<i class="fa fa-star text-lg opacity-10" aria-hidden="true"></i>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
				<div class="card">
					<div class="card-body p-3">
						<div class="row">
							<div class="col-8">
								<div class="numbers">
									<p class="mb-0 font-weight-bold">Выбранная рубрика</p>
									<h5 class="font-weight-bolder mb-0">
										{{get_result.1}}
									</h5>
								</div>
							</div>
							<div class="col-4 text-end">
								<div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md">
									<i class="fa fa-filter text-lg opacity-10" aria-hidden="true"></i>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-xl-3 col-sm-6">
				<div class="card">
					<div class="card-body p-3">
						<div class="row">
							<div class="col-8">
								<div class="numbers">
									<p class="mb-0 font-weight-bold">Выбранная АТЕ</p>
									<h5 class="font-weight-bolder mb-0">
										{{get_result.0}}
									</h5>
								</div>
							</div>
							<div class="col-4 text-end">
								<div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md">
									<i class="fa fa-globe text-lg opacity-10" aria-hidden="true"></i>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>



		<div class="container-fluid py-4">
			<div class="row">
				<div class="col-xl-12 col-sm-6 mb-xl-0 mb-4">
					<div class="card">
						<div class="card-body p-3">
							<div class="row">
								<div class="col-12">
									<div class="numbers">

										<form action="" method="POST" enctype="multipart/form-data">
											{% csrf_token %}
											<div class="row">
												<div class="col-12">

													<div class="row">
														<div class="col-12" style="display: inline-block;">
															<div class="mx-3" style="display: inline-block;">
																<h5>Категория</h5>
																{{ form.category }}
															</div>
															<div class="mx-3" style="display: inline-block;">
																<h5>Ресурс</h5>
																{{ form.plat }}
															</div>
															<div class="mx-3" style="display: inline-block;">
																<h5>АТЕ</h5>
																{{ form.cities }}
															</div>

															<div >
																<h4 class="mx-3" style="margin-top:40px; margin-bottom:20px;">Рубрики</h4>
																<div class="mx-3" style="display: inline-block;">
																	<h5>ПОП</h5>
																	{{ form.rubrics }}
																</div>

																<div class="mx-3" style="display: inline-block;">
																	<h5>КСР</h5>
																	{{ form.rubrics_hotel }}
																</div>
																<div class="mx-3" style="display: inline-block;">
																	<h5>Туризм</h5>
																	{{ form.rubrics_tour }}
																</div>
																<div class="mx-3" style="display: inline-block;">
																	<h5>Культура</h5>
																	{{ form.rubrics_cult }}
																</div>
																<div class="mx-3" style="display: inline-block;">
																	<h5>Аттракции</h5>
																	{{ form.rubrics_attr }}
																</div>
															</div>
														</div>
														<div class="col-3">
															<button type="submit" class="btn btn-outline-primary mb-0 py-2 px-5 mx-3" style="margin-top:20px;">
																<strong>Начать поиск</strong>
															</button>

														</div>
													</div>
												</div>
											</div>
										</form>

									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>




		<div class="row my-4">
			<div class="col-lg-4 col-md-6 col-xs-12 mb-md-0 mb-4">
				<div class="card">
					<div class="card-header pb-0">
						<h5>Статистика по компаниям</h5>
					</div>
					<div class="card-body px-0 pb-2">
						<div class="table-responsive">
							<table class="table align-items-center mb-0">
								<thead>
								<tr>
									<th class="text-uppercase text-body font-weight-bolder">Ресурс</th>
									<th class="text-uppercase text-body text-center font-weight-bolder">Компаний</th>
									<th class="text-uppercase text-body text-center font-weight-bolder">Соотношение</th>
								</tr>
								</thead>
								<tbody>
								<tr>
									<td>
										<div class="d-flex px-2 py-1">
											<div>
												<img src="{% static 'img/logos/gis.png' %}" class="avatar avatar-sm me-3" alt="xd">
											</div>
											<div class="d-flex flex-column justify-content-center">
												<h6 class="mb-0">2GIS</h6>
											</div>
										</div>
									</td>
									<td class="align-middle text-center">
										<span> {{companies.gis.0}} </span>
									</td>
									<td class="align-middle">
										<div class="progress-wrapper w-75 mx-auto">
											<div class="progress-info">
												<div class="progress-percentage">
													<span>{{companies.gis.1}}%</span>
												</div>
											</div>
											<div class="progress">
												<div class="progress-bar bg-gradient-info w-{{companies.gis.2}}" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
											</div>
										</div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="d-flex px-2 py-1">
											<div>
												<img src="{% static 'img/logos/vl.png' %}" class="avatar avatar-sm me-3" alt="atlassian">
											</div>
											<div class="d-flex flex-column justify-content-center">
												<h6 class="mb-0">Vl.ru</h6>
											</div>
										</div>
									</td>
									<td class="align-middle text-center">
										<span> {{companies.vl.0}}  </span>
									</td>
									<td class="align-middle">
										<div class="progress-wrapper w-75 mx-auto">
											<div class="progress-info">
												<div class="progress-percentage">
													<span>{{companies.vl.1}}%</span>
												</div>
											</div>
											<div class="progress">
												<div class="progress-bar bg-gradient-info w-{{companies.vl.2}}" role="progressbar" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div>
											</div>
										</div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="d-flex px-2 py-1">
											<div>
												<img src="{% static 'img/logos/ta.png' %}" class="avatar avatar-sm me-3" alt="team7">
											</div>
											<div class="d-flex flex-column justify-content-center">
												<h6 class="mb-0">TripAdvisor</h6>
											</div>
										</div>
										<div class="d-flex px-2 py-1">
											<div>
												<img src="{% static 'img/logos/booking.png' %}" class="avatar avatar-sm me-3" alt="team7">
											</div>
											<div class="d-flex flex-column justify-content-center">
												<h6 class="mb-0">Booking</h6>
											</div>
										</div>
									</td>
									<td class="align-middle text-center">
										<span> {{companies.trip.0}}  </span>
									</td>
									<td class="align-middle">
										<div class="progress-wrapper w-75 mx-auto">
											<div class="progress-info">
												<div class="progress-percentage">
													<span>{{companies.trip.1}}%</span>
												</div>
											</div>
											<div class="progress">
												<div class="progress-bar bg-gradient-info w-{{companies.trip.2}}" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
											</div>
										</div>
									</td>
								</tr>
								<!--<tr>
									<td>
										<div class="d-flex px-2 py-1">
											<div>
												<img src="{% static 'img/logos/google.png' %}" class="avatar avatar-sm me-3" alt="spotify">
											</div>
											<div class="d-flex flex-column justify-content-center">
												<h6 class="mb-0 text-sm">Google</h6>
											</div>
										</div>
									</td>
									<td class="align-middle text-center text-sm">
										<span class="text-sm"> В разработке </span>
									</td>
									<td class="align-middle">
										<div class="progress-wrapper w-75 mx-auto">
											<div class="progress-info">
												<div class="progress-percentage">
													<span class="text-sm">0%</span>
												</div>
											</div>
											<div class="progress">
												<div class="progress-bar bg-gradient-success w-0" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
											</div>
										</div>
									</td>
								</tr>-->
								</tbody>
							</table>
						</div>
					</div>
				</div>

				<div class="card my-3">
					<div class="card-header pb-0">
						<h5>Статистика по отзывам</h5>
					</div>
					<div class="card-body px-0 pb-2">
						<div class="table-responsive">
							<table class="table align-items-center mb-0">
								<thead>
								<tr>
									<th class="text-uppercase text-body font-weight-bolder">Ресурс</th>
									<th class="text-uppercase text-body text-center font-weight-bolder">Отзывов</th>
									<th class="text-uppercase text-body text-center font-weight-bolder">Соотношение</th>
								</tr>
								</thead>
								<tbody>
								<tr>
									<td>
										<div class="d-flex px-2 py-1">
											<div>
												<img src="{% static 'img/logos/gis.png' %}" class="avatar avatar-sm me-3" alt="xd">
											</div>
											<div class="d-flex flex-column justify-content-center">
												<h6 class="mb-0">2GIS</h6>
											</div>
										</div>
									</td>
									<td class="align-middle text-center">
										<span> {{reviews.gis.0}} </span>
									</td>
									<td class="align-middle">
										<div class="progress-wrapper w-75 mx-auto">
											<div class="progress-info">
												<div class="progress-percentage">
													<span>{{reviews.gis.1}}%</span>
												</div>
											</div>
											<div class="progress">
												<div class="progress-bar bg-gradient-success w-{{reviews.gis.2}}" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
											</div>
										</div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="d-flex px-2 py-1">
											<div>
												<img src="{% static 'img/logos/vl.png' %}" class="avatar avatar-sm me-3" alt="atlassian">
											</div>
											<div class="d-flex flex-column justify-content-center">
												<h6 class="mb-0">Vl.ru</h6>
											</div>
										</div>
									</td>
									<td class="align-middle text-center">
										<span> {{reviews.vl.0}}  </span>
									</td>
									<td class="align-middle">
										<div class="progress-wrapper w-75 mx-auto">
											<div class="progress-info">
												<div class="progress-percentage">
													<span>{{reviews.vl.1}}%</span>
												</div>
											</div>
											<div class="progress">
												<div class="progress-bar bg-gradient-success w-{{reviews.vl.2}}" role="progressbar" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div>
											</div>
										</div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="d-flex px-2 py-1">
											<div>
												<img src="{% static 'img/logos/ta.png' %}" class="avatar avatar-sm me-3" alt="team7">
											</div>
											<div class="d-flex flex-column justify-content-center">
												<h6 class="mb-0">TripAdvisor</h6>
											</div>
										</div>
										<div class="d-flex px-2 py-1">
											<div>
												<img src="{% static 'img/logos/booking.png' %}" class="avatar avatar-sm me-3" alt="team7">
											</div>
											<div class="d-flex flex-column justify-content-center">
												<h6 class="mb-0">Booking</h6>
											</div>
										</div>
									</td>
									<td class="align-middle text-center">
										<span> {{reviews.trip.0}}  </span>
									</td>
									<td class="align-middle">
										<div class="progress-wrapper w-75 mx-auto">
											<div class="progress-info">
												<div class="progress-percentage">
													<span>{{reviews.trip.1}}%</span>
												</div>
											</div>
											<div class="progress">
												<div class="progress-bar bg-gradient-success w-{{reviews.trip.2}}" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
											</div>
										</div>
									</td>
								</tr>
								<!--<tr>
									<td>
										<div class="d-flex px-2 py-1">
											<div>
												<img src="{% static 'img/logos/google.png' %}" class="avatar avatar-sm me-3" alt="spotify">
											</div>
											<div class="d-flex flex-column justify-content-center">
												<h6 class="mb-0 text-sm">Google</h6>
											</div>
										</div>
									</td>
									<td class="align-middle text-center text-sm">
										<span class="text-sm"> В разработке </span>
									</td>
									<td class="align-middle">
										<div class="progress-wrapper w-75 mx-auto">
											<div class="progress-info">
												<div class="progress-percentage">
													<span class="text-sm">0%</span>
												</div>
											</div>
											<div class="progress">
												<div class="progress-bar bg-gradient-success w-0" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
											</div>
										</div>
									</td>
								</tr>-->
								</tbody>
							</table>
						</div>
					</div>
				</div>

			</div>

			<div class="col-lg-4 col-md-6 col-xs-12 mb-md-0 mb-4">
				<div class="card">
					<div class="card-header pb-0">
						<h5>Круговая диаграмма «Компании»</h5>
					</div>
					<div class="card-body px-0 pb-2">
						<canvas id="doughnut_companies_chart" width="100" height="100" class="m-2"></canvas>
					</div>
				</div>
			</div>

			<div class="col-lg-4 col-md-6 col-xs-12 mb-md-0 mb-4">
				<div class="card">
					<div class="card-header pb-0">
						<h5>Круговая диаграмма «Отзывы»</h5>
					</div>
					<div class="card-body px-0 pb-2">
						<canvas id="doughnut_reviews_chart" width="100" height="100" class="m-2"></canvas>
					</div>
				</div>
			</div>

			<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
			<script>
			var ctx_all = document.getElementById('doughnut_companies_chart').getContext('2d');
			var allChart1 = new Chart(ctx_all, {
									  type: 'doughnut',
									  data: {
										labels : ['2GIS', 'VL.ru', 'TripAdvisor'],
										  datasets: [{
											label: "Процентное соотношение",
											data : [{{ companies.gis.2 }}, {{ companies.vl.2 }}, {{ companies.trip.2 }}],
											backgroundColor: ['rgba(75, 192, 192, 0.2)', 'rgba(30,144,255, 0.2)', 'rgba(255,140,0, 0.2)'],
											borderColor: ['rgba(75, 192, 192, 1)', 'rgba(30,144,255, 1)', 'rgba(255,140,0, 1)'],
											borderWidth: 1
										  }]
									  },
									  options: {
										  scales: {
											  y: {
												  beginAtZero: true
											  }
										  },
										  plugins: {
											legend: {
												labels: {
													// This more specific font property overrides the global property
													font: {
														size: 16
													}
												}
											}
										}
									  }
								  });

			var ctx_all = document.getElementById('doughnut_reviews_chart').getContext('2d');
		    allChart2 = new Chart(ctx_all, {
								  type: 'doughnut',
								  data: {
									labels : ['2GIS', 'VL.ru', 'TripAdvisor'],
									  datasets: [{
										label: "Количествнное соотношение",
										data : [{{ reviews.gis.2 }}, {{ reviews.vl.2 }}, {{ reviews.trip.2 }}],
										backgroundColor: ['rgba(75, 192, 192, 0.2)', 'rgba(30,144,255, 0.2)', 'rgba(255,140,0, 0.2)'],
										borderColor: ['rgba(75, 192, 192, 1)', 'rgba(30,144,255, 1)', 'rgba(255,140,0, 1)'],
										borderWidth: 1
									  }]
								  },
								  options: {
									  scales: {
										  y: {
											  beginAtZero: true
										  }
									  },
									  plugins: {
										legend: {
											labels: {
												// This more specific font property overrides the global property
												font: {
													size: 16
												}
											}
										}
									  }
								  }

							  });
			</script>

		</div>

		<div class="row" style="margin-top: 60px; text-transform: uppercase;">
			<div class="col-12">
				<h1>&nbsp&nbspОтзывы: Оценка</h1>
			</div>
		</div>

		<div class="row my-4">

			<div class="col-lg-3 col-md-6 mb-md-0 mb-4">
				<div class="card">
					<div class="card-header pb-0">
						<div class="row">
							<div class="col-12">
								<h5>Статистика: 2GIS
								</h5>
							</div>
						</div>
					</div>
					<div class="card-body px-0 pb-2">
						<div class="table-responsive">
							<table class="table align-items-center mb-0">
								<thead>
								<tr>
									<th class="text-uppercase text-body text-center font-weight-bolder">Оценка</th>
									<th class="text-uppercase text-body text-center font-weight-bolder">Количество</th>
									<th class="text-uppercase text-body text-center font-weight-bolder">Соотношение</th>
								</tr>
								</thead>
								<tbody>

								{% for key, value in rating.gis.items %}
								<tr>
									<td class="align-middle text-center">
										<span> {{key}} </span>
									</td>
									<td class="align-middle text-center">
										<span> {{value.0}} </span>
									</td>
									<td class="align-middle text-center">
										<span> {{value.1}}%</span>
									</td>
								</tr>
								{% endfor %}
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>

			<div class="col-lg-3 col-md-6 mb-md-0 mb-4">
				<div class="card">
					<div class="card-header pb-0">
						<div class="row">
							<div class="col-12">
								<h5>Статистика: Vl.ru
								</h5>
							</div>
						</div>
					</div>
					<div class="card-body px-0 pb-2">
						<div class="table-responsive">
							<table class="table align-items-center mb-0">
								<thead>
								<tr>
									<th class="text-uppercase text-body text-center font-weight-bolder">Оценка</th>
									<th class="text-uppercase text-body text-center font-weight-bolder">Количество</th>
									<th class="text-uppercase text-body text-center font-weight-bolder">Соотношение</th>
								</tr>
								</thead>
								<tbody>

								{% for key, value in rating.vl.items %}
								<tr>
									<td class="align-middle text-center">
										<span> {{key}} </span>
									</td>
									<td class="align-middle text-center">
										<span> {{value.0}} </span>
									</td>
									<td class="align-middle text-center">
										<span> {{value.1}}%</span>
									</td>
								</tr>
								{% endfor %}
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>

			<div class="col-lg-3 col-md-6 mb-md-0 mb-4">
				<div class="card">
					<div class="card-header pb-0">
						<div class="row">
							<div class="col-12">
								<h5>Статистика: TripAdvisor
								</h5>
							</div>
						</div>
					</div>
					<div class="card-body px-0 pb-2">
						<div class="table-responsive">
							<table class="table align-items-center mb-0">
								<thead>
								<tr>
									<th class="text-uppercase text-body text-center font-weight-bolder">Оценка</th>
									<th class="text-uppercase text-body text-center font-weight-bolder">Количество</th>
									<th class="text-uppercase text-body text-center font-weight-bolder">Соотношение</th>
								</tr>
								</thead>
								<tbody>

								{% for key, value in rating.trip.items %}
								<tr>
									<td class="align-middle text-center">
										<span> {{key}} </span>
									</td>
									<td class="align-middle text-center">
										<span> {{value.0}} </span>
									</td>
									<td class="align-middle text-center">
										<span> {{value.1}}%</span>
									</td>
								</tr>
								{% endfor %}
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>

			<div class="col-lg-3 col-md-6 mb-md-0 mb-4">
				<div class="card">
					<div class="card-header pb-0">
						<div class="row">
							<div class="col-12">
								<h5>Сводная общая ститистика
								</h5>
							</div>
						</div>
					</div>
					<div class="card-body px-0 pb-2">
						<div class="table-responsive">
							<table class="table align-items-center mb-0">
								<thead>
								<tr>
									<th class="text-uppercase text-body text-center font-weight-bolder">Оценка</th>
									<th class="text-uppercase text-body text-center font-weight-bolder">Количество</th>
									<th class="text-uppercase text-body text-center font-weight-bolder">Соотношение</th>
								</tr>
								</thead>
								<tbody>

								{% for key, value in rating.all.items %}
								<tr>
									<td class="align-middle text-center">
										<span> {{key}} </span>
									</td>
									<td class="align-middle text-center">
										<span> {{value.0}} </span>
									</td>
									<td class="align-middle text-center">
										<span> {{value.1}}%</span>
									</td>
								</tr>
								{% endfor %}
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>

			<div class="col-lg-3 col-md-6 mb-md-0 mb-4">
				<div class="card my-3">
					<div class="card-header pb-0">
						<div class="row">
							<div class="col-lg-6 col-7">
								<h5>2GIS</h5>
							</div>
						</div>
						<canvas id="rating_chart_gis" width="400" height="100"></canvas>
					</div>
				</div>
			</div>

			<div class="col-lg-3 col-md-6 mb-md-0 mb-4">
				<div class="card my-3">
					<div class="card-header pb-0">
						<div class="row">
							<div class="col-lg-6 col-7">
								<h5>VL.ru</h5>
							</div>
						</div>
						<canvas id="rating_chart_vl" width="400" height="100"></canvas>
					</div>
				</div>
			</div>

			<div class="col-lg-3 col-md-6 mb-md-0 mb-4">
				<div class="card my-3">
					<div class="card-header pb-0">
						<div class="row">
							<div class="col-lg-6 col-7">
								<h5>TripAdvisor</h5>
							</div>
						</div>
						<canvas id="rating_chart_trip" width="400" height="100"></canvas>
					</div>
				</div>
			</div>

			<div class="col-lg-3 col-md-6 mb-md-0 mb-4">
				<div class="card my-3">
					<div class="card-header pb-0">
						<div class="row">
							<div class="col-lg-6 col-7">
								<h5>Общая сводная</h5>
							</div>
						</div>
						<canvas id="rating_chart_all" width="400" height="100"></canvas>
					</div>
				</div>
			</div>

			<script>
			var ctx3 = document.getElementById('rating_chart_gis').getContext('2d');
			ratingChat = new Chart(ctx3, {
									  type: 'pie',
									  data: {
										labels : [{% for item in rating.gis.keys %}"{{ item }}",{% endfor %}],
										  datasets: [{
											label: "Количествнное соотношение",
											data : [{% for item in rating.gis.values %}{{ item.0 }},{% endfor %}],
											backgroundColor: ['rgba(169,169,169, 0.2)', 'rgba(240,230,140, 0.2)', 'rgba(205, 92, 92, 0.2)', 'rgba(30,144,255, 0.2)', 'rgba(75, 192, 192, 0.2)'],
											borderColor: ['rgba(169,169,169, 1)', 'rgba(240,230,140, 1)', 'rgba(205, 92, 92, 1)', 'rgba(30,144,255, 1)', 'rgba(75, 192, 192, 1)'],
											borderWidth: 1
										  }]
									  },
									  options: {
										  scales: {
											  y: {
												  beginAtZero: true
											  }
										  },
										  plugins: {
											legend: {
												labels: {
													// This more specific font property overrides the global property
													font: {
														size: 16
													}
												}
											}
										}
									  }
								  });

			var ctx4 = document.getElementById('rating_chart_vl').getContext('2d');
			ratingChat = new Chart(ctx4, {
									  type: 'pie',
									  data: {
										labels : [{% for item in rating.vl.keys %}"{{ item }}",{% endfor %}],
										  datasets: [{
											label: "Количествнное соотношение",
											data : [{% for item in rating.vl.values %}{{ item.0 }},{% endfor %}],
											backgroundColor: ['rgba(169,169,169, 0.2)', 'rgba(240,230,140, 0.2)', 'rgba(205, 92, 92, 0.2)', 'rgba(30,144,255, 0.2)', 'rgba(75, 192, 192, 0.2)', 'rgba(255, 255, 255, 0.2)'],
											borderColor: ['rgba(169,169,169, 1)', 'rgba(240,230,140, 1)', 'rgba(205, 92, 92, 1)', 'rgba(30,144,255, 1)', 'rgba(75, 192, 192, 1)', 'rgba(255, 255, 255, 1)'],
											borderWidth: 1
										  }]
									  },
									  options: {
										  scales: {
											  y: {
												  beginAtZero: true
											  }
										  },
										  plugins: {
											legend: {
												labels: {
													// This more specific font property overrides the global property
													font: {
														size: 16
													}
												}
											}
										}
									  }
								  });

			var ctx5 = document.getElementById('rating_chart_trip').getContext('2d');
			ratingChat = new Chart(ctx5, {
									  type: 'pie',
									  data: {
										labels : [{% for item in rating.trip.keys %}"{{ item }}",{% endfor %}],
										  datasets: [{
											label: "Количествнное соотношение",
											data : [{% for item in rating.trip.values %}{{ item.0 }},{% endfor %}],
											backgroundColor: ['rgba(169,169,169, 0.2)', 'rgba(240,230,140, 0.2)', 'rgba(205, 92, 92, 0.2)', 'rgba(30,144,255, 0.2)', 'rgba(75, 192, 192, 0.2)'],
											borderColor: ['rgba(169,169,169, 1)', 'rgba(240,230,140, 1)', 'rgba(205, 92, 92, 1)', 'rgba(30,144,255, 1)', 'rgba(75, 192, 192, 1)'],
											borderWidth: 1
										  }]
									  },
									  options: {
										  scales: {
											  y: {
												  beginAtZero: true
											  }
										  },
										  plugins: {
											legend: {
												labels: {
													// This more specific font property overrides the global property
													font: {
														size: 16
													}
												}
											}
										}
									  }
								  });

			var ctx6 = document.getElementById('rating_chart_all').getContext('2d');
			ratingChat = new Chart(ctx6, {
									  type: 'pie',
									  data: {
										labels : [{% for item in rating.all.keys %}"{{ item }}",{% endfor %}],
										  datasets: [{
											label: "Количествнное соотношение",
											data : [{% for item in rating.all.values %}{{ item.0 }},{% endfor %}],
											backgroundColor: ['rgba(169,169,169, 0.2)', 'rgba(240,230,140, 0.2)', 'rgba(205, 92, 92, 0.2)', 'rgba(30,144,255, 0.2)', 'rgba(75, 192, 192, 0.2)', 'rgba(255, 255, 255, 0.2)'],
											borderColor: ['rgba(169,169,169, 1)', 'rgba(240,230,140, 1)', 'rgba(205, 92, 92, 1)', 'rgba(30,144,255, 1)', 'rgba(75, 192, 192, 1)', 'rgba(255, 255, 255, 1)'],
											borderWidth: 1
										  }]
									  },
									  options: {
										  scales: {
											  y: {
												  beginAtZero: true
											  }
										  },
										  plugins: {
											legend: {
												labels: {
													// This more specific font property overrides the global property
													font: {
														size: 16
													}
												}
											}
										}
									  }
								  });
			</script>

		</div>

		<div class="row" style="margin-top: 60px; text-transform: uppercase;">
			<div class="col-12">
				<h1>&nbsp&nbspОтзывы: Года</h1>
			</div>
		</div>

		<div class="row my-4">
			<div class="col-lg-4 col-md-6 mb-md-0 mb-4">
				<div class="card">
					<div class="card-header pb-0">
						<div class="row">
							<div class="col-12">
								<h5>
									Статистика:
									<select onchange="YearsChange(this);" style="border-radius: 5px; margin-left: 7px;">
										<option value="ALL">Все</option>
										<option value="GIS">2GIS</option>
										<option value="VL.ru">VL.ru</option>
										<option value="TRIP">TripAdvisor</option>
									</select>
								</h5>
							</div>
						</div>
					</div>
					<div class="card-body px-0 pb-2">
						<div class="table-responsive">
							<table class="table align-items-center mb-0">
								<thead>
								<tr>
									<th class="text-uppercase text-body text-center font-weight-bolder">Оценка</th>
									<th class="text-uppercase text-body text-center font-weight-bolder">Количество</th>
									<th class="text-uppercase text-body text-center font-weight-bolder">Соотношение</th>
								</tr>
								</thead>
								<tbody id="years">

								{% for key, value in years.all.items %}
								<tr>
									<td class="align-middle text-center">
										<span> {{key}} </span>
									</td>
									<td class="align-middle text-center">
										<span> {{value.0}} </span>
									</td>
									<td class="align-middle text-center">
										<span> {{value.1}}%</span>
									</td>
								</tr>
								{% endfor %}
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>

			<script>
				function YearsChange(selectObj) {
					var selectIndex=selectObj.selectedIndex;
					var selectValue=selectObj.options[selectIndex].text;
					if (selectValue === "2GIS")
					{
						document.getElementById("years").innerHTML =
							'{% for key, value in years.gis.items %}' +
								'<tr>' +
									'<td class="align-middle text-center">' +
										'<span> {{key}} </span>' +
									'</td>' +
									'<td class="align-middle text-center">' +
										'<span> {{value.0}} </span>' +
									'</td>' +
									'<td class="align-middle text-center">' +
										'<span> {{value.1}}%</span>' +
									'</td>' +
								'</tr>' +
								'{% endfor %}';
					}

					else if (selectValue === "VL.ru")
					{
						document.getElementById("years").innerHTML =
							'{% for key, value in years.vl.items %}' +
								'<tr>' +
									'<td class="align-middle text-center">' +
										'<span> {{key}} </span>' +
									'</td>' +
									'<td class="align-middle text-center">' +
										'<span> {{value.0}} </span>' +
									'</td>' +
									'<td class="align-middle text-center">' +
										'<span> {{value.1}}%</span>' +
									'</td>' +
								'</tr>' +
								'{% endfor %}';
					}

					else if (selectValue === "TripAdvisor")
					{
						document.getElementById("years").innerHTML =
							'{% for key, value in years.trip.items %}' +
								'<tr>' +
									'<td class="align-middle text-center">' +
										'<span> {{key}} </span>' +
									'</td>' +
									'<td class="align-middle text-center">' +
										'<span> {{value.0}} </span>' +
									'</td>' +
									'<td class="align-middle text-center">' +
										'<span> {{value.1}}%</span>' +
									'</td>' +
								'</tr>' +
								'{% endfor %}';
					}

					else
					{
						document.getElementById("years").innerHTML =
							'{% for key, value in years.all.items %}' +
								'<tr>' +
									'<td class="align-middle text-center">' +
										'<span> {{key}} </span>' +
									'</td>' +
									'<td class="align-middle text-center">' +
										'<span> {{value.0}} </span>' +
									'</td>' +
									'<td class="align-middle text-center">' +
										'<span> {{value.1}}%</span>' +
									'</td>' +
								'</tr>' +
								'{% endfor %}';
					}

				}
 			</script>


			<div class="col-lg-8 col-md-6 mb-md-0 mb-4">
				<div class="card">
					<div class="card-header pb-0">
						<div class="row">
							<div class="col-12">
								<h5>
									Статистика по:
									<select onchange="YearsChangeChart(this);" style="border-radius: 5px; margin-left: 7px;">
										<option value="GIS">2GIS</option>
										<option value="VL.ru">VL.ru</option>
										<option value="TRIP">TripAdvisor</option>
									</select>
								</h5>
							</div>
						</div>
						<canvas id="year_chart_gis" width="400" height="200"></canvas>
					</div>
				</div>


				<div class="card my-3">
					<div class="card-header pb-0">
						<div class="row">
							<div class="col-12">
								<h5>
									Сводная статистика по платформам:
								</h5>
							</div>
						</div>
						<canvas id="year_all_chart" width="400" height="100"></canvas>
					</div>
				</div>
			</div>

			<script>
				var ctx8 = document.getElementById('year_all_chart').getContext('2d');
				var yearsChart = new Chart(ctx8, {
										  type: 'bar',
										  data: {
											labels : [{% for item in years.all.keys %}"{{ item }}",{% endfor %}],
											  datasets: [{
												label: "Количествнное соотношение",
												data : [{% for item in years.all.values %}{{ item.0 }},{% endfor %}],
												backgroundColor: 'rgba(205, 92, 92, 0.2)',
												borderColor: 'rgba(205, 92, 92, 1)',
												borderWidth: 1,
												barPercentage: 0.5,
											  }]
										  },
										  options: {
												  //indexAxis: 'y',
												  scales: {
													  y: {
														  beginAtZero: true,
														  ticks: {
														  font: {
															size: 12
														  }
														},
													  },
													  x: {
														ticks: {
														  font: {
															size: 16
														  }
														},
													  },

												  },
												  plugins: {
													legend: {
														labels: {
															font: {
																size: 16
															}
														},
													}
												  }
											  }
									  });

			var ctx7 = document.getElementById('year_chart_gis').getContext('2d');
			var yearsChart = new Chart(ctx7, {
									  type: 'bar',
									  data: {
										labels : [{% for item in years.gis.keys %}"{{ item }}",{% endfor %}],
										  datasets: [{
											label: "Количествнное соотношение",
											data : [{% for item in years.gis.values %}{{ item.0 }},{% endfor %}],
											backgroundColor: 'rgba(75, 192, 192, 0.2)',
											borderColor: 'rgba(75, 192, 192, 1)',
											borderWidth: 1,
											barPercentage: 0.5,
										  }]
									  },
									  options: {
										      indexAxis: 'y',
											  scales: {
												  y: {
													  beginAtZero: true,
													  ticks: {
													  font: {
														size: 16
													  }
													},
												  },
												  x: {
													ticks: {
													  font: {
														size: 12
													  }
													},
												  },

											  },
											  plugins: {
												legend: {
													labels: {
														font: {
															size: 16
														}
													},
												}
											  }
										  }
								  });

			function YearsChangeChart(selectObj) {
					var selectIndex=selectObj.selectedIndex;
					var selectValue=selectObj.options[selectIndex].text;

					if (selectValue === '2GIS')
					{
						yearsChart.destroy();
						yearsChart = new Chart(ctx7, {
									  type: 'bar',
									  data: {
										labels : [{% for item in years.gis.keys %}"{{ item }}",{% endfor %}],
										  datasets: [{
											label: "Количествнное соотношение",
											data : [{% for item in years.gis.values %}{{ item.0 }},{% endfor %}],
											backgroundColor: 'rgba(75, 192, 192, 0.2)',
											borderColor: 'rgba(75, 192, 192, 1)',
											borderWidth: 1,
											barPercentage: 0.5,
										  }]
									  },
									  options: {
										      indexAxis: 'y',
											  scales: {
												  y: {
													  beginAtZero: true,
													  ticks: {
													  font: {
														size: 16
													  }
													},
												  },
												  x: {
													ticks: {
													  font: {
														size: 12
													  }
													},
												  },

											  },
											  plugins: {
												legend: {
													labels: {
														font: {
															size: 16
														}
													},
												}
											  }
										  }
								  });
					}

					else if (selectValue === 'VL.ru')
					{
						yearsChart.destroy();
						yearsChart = new Chart(ctx7, {
									  type: 'bar',
									  data: {
										labels : [{% for item in years.vl.keys %}"{{ item }}",{% endfor %}],
										  datasets: [{
											label: "Количествнное соотношение",
											data : [{% for item in years.vl.values %}{{ item.0 }},{% endfor %}],
											backgroundColor: 'rgba(75, 192, 192, 0.2)',
											borderColor: 'rgba(75, 192, 192, 1)',
											borderWidth: 1,
											barPercentage: 0.5,
										  }]
									  },
									  options: {
										      indexAxis: 'y',
											  scales: {
												  y: {
													  beginAtZero: true,
													  ticks: {
													  font: {
														size: 16
													  }
													},
												  },
												  x: {
													ticks: {
													  font: {
														size: 12
													  }
													},
												  },

											  },
											  plugins: {
												legend: {
													labels: {
														font: {
															size: 16
														}
													},
												}
											  }
										  }
								  });
					}

					else if (selectValue === 'TripAdvisor')
					{
						yearsChart.destroy();
						yearsChart = new Chart(ctx7, {
									  type: 'bar',
									  data: {
										labels : [{% for item in years.trip.keys %}"{{ item }}",{% endfor %}],
										  datasets: [{
											label: "Количествнное соотношение",
											data : [{% for item in years.trip.values %}{{ item.0 }},{% endfor %}],
											backgroundColor: 'rgba(75, 192, 192, 0.2)',
											borderColor: 'rgba(75, 192, 192, 1)',
											borderWidth: 1,
											barPercentage: 0.5,
										  }]
									  },
									  options: {
										      indexAxis: 'y',
											  scales: {
												  y: {
													  beginAtZero: true,
													  ticks: {
													  font: {
														size: 16
													  }
													},
												  },
												  x: {
													ticks: {
													  font: {
														size: 12
													  }
													},
												  },

											  },
											  plugins: {
												legend: {
													labels: {
														font: {
															size: 16
														}
													},
												}
											  }
										  }
								  });
					}

					else
					{

					}

				}
			</script>
		</div>


		
		<div class="row" style="margin-top: 60px; text-transform: uppercase;">
			<div class="col-12">
				<h1>&nbsp&nbspБазы данных</h1>
			</div>
		</div>

		<div class="col-lg-5 col-md-6">
			<div class="card h-100">
				<div class="card-header pb-0">
					<h5>Отфильтрованные данные</h5>
				</div>

				<div class="card-body px-0 pb-2">
					<div class="table-responsive">
						<form action="" method="POST" enctype="multipart/form-data">
							{% csrf_token %}
							<table class="table align-items-center mb-0">
<!--								<thead>-->
<!--								<tr>-->
<!--									<th class="text-uppercase text-body text-xs font-weight-bolder">Ресурс</th>-->
<!--									<th class="text-uppercase text-body text-xs font-weight-bolder">С оценкой</th>-->
<!--									<th class="text-uppercase text-body text-xs font-weight-bolder">Статистика по</th>-->
<!--								</tr>-->
<!--								</thead>-->
								<tbody>


<!--								<tr>-->
<!--									<td>-->
<!--										<div class="d-flex px-3 py-1">-->
<!--											<ul class="list-group">-->
<!--												<li class="list-group-item border-0 px-0">-->
<!--													<div class="form-check form-switch ps-0 py-1">-->
<!--														{{ form.trip_advisor }}-->
<!--														<label class="form-check-label text-body ms-3 text-truncate w-80 mb-0" for="flexSwitchCheckDefault">TripAdvisor</label>-->
<!--													</div>-->

<!--													<div class="form-check form-switch ps-0 py-1">-->
<!--														{{ form.booking }}-->
<!--														<label class="form-check-label text-body ms-3 text-truncate w-80 mb-0" for="flexSwitchCheckDefault">Booking</label>-->
<!--													</div>-->

<!--													<div class="form-check form-switch ps-0 py-1">-->
<!--														{{ form.vlru }}-->
<!--														<label class="form-check-label text-body ms-3 text-truncate w-80 mb-0" for="flexSwitchCheckDefault">Vl.ru</label>-->
<!--													</div>-->

<!--													<div class="form-check form-switch ps-0 py-1">-->
<!--														{{ form.gis }}-->
<!--														<label class="form-check-label text-body ms-3 text-truncate w-80 mb-0" for="flexSwitchCheckDefault">2GIS</label>-->
<!--													</div>-->

<!--													<div class="form-check form-switch ps-0 py-1">-->
<!--														{{ form.google }}-->
<!--														<label class="form-check-label text-body ms-3 text-truncate w-80 mb-0" for="flexSwitchCheckDefault">Google</label>-->
<!--													</div>-->
<!--												</li>-->
<!--											</ul>-->
<!--										</div>-->
<!--									</td>-->

<!--									<td>-->
<!--										<div class="d-flex px-3 py-1">-->
<!--											<ul class="list-group">-->
<!--												<li class="list-group-item border-0 px-0">-->
<!--													<div class="form-check form-switch ps-0 py-1">-->
<!--														{{ form.star1 }}-->
<!--														<label class="form-check-label text-body ms-3 text-truncate w-80 mb-0" for="flexSwitchCheckDefault">1</label>-->
<!--													</div>-->

<!--													<div class="form-check form-switch ps-0 py-1">-->
<!--														{{ form.star2 }}-->
<!--														<label class="form-check-label text-body ms-3 text-truncate w-80 mb-0" for="flexSwitchCheckDefault">2</label>-->
<!--													</div>-->

<!--													<div class="form-check form-switch ps-0 py-1">-->
<!--														{{ form.star3 }}-->
<!--														<label class="form-check-label text-body ms-3 text-truncate w-80 mb-0" for="flexSwitchCheckDefault">3</label>-->
<!--													</div>-->

<!--													<div class="form-check form-switch ps-0 py-1">-->
<!--														{{ form.star4 }}-->
<!--														<label class="form-check-label text-body ms-3 text-truncate w-80 mb-0" for="flexSwitchCheckDefault">4</label>-->
<!--													</div>-->

<!--													<div class="form-check form-switch ps-0 py-1">-->
<!--														{{ form.star5 }}-->
<!--														<label class="form-check-label text-body ms-3 text-truncate w-80 mb-0" for="flexSwitchCheckDefault">5</label>-->
<!--													</div>-->
<!--												</li>-->
<!--											</ul>-->
<!--										</div>-->
<!--									</td>-->
<!--								</tr>-->

								<tr>
<!--									<td class="ps-4 py-4">-->
<!--										<button type="button" class="btn btn-outline-primary btn-sm mb-0 py-2 px-3">Скачать отчет</button>-->
<!--									</td>-->
									<td class="ps-4 py-4" colspan="2">
										<button type="button" class="btn btn-outline-primary btn-sm mb-0 py-2 px-2 mx-2">
											<a href="{% url 'download_file' %}?filename={{db_nane}}.db" style="text-decoration: none;">Скачать БД "Компании"</a>
										</button>

										<button type="button" class="btn btn-outline-primary btn-sm mb-0 py-2 px-2 mx-2">
											<a href="{% url 'download_file' %}?filename={{db_nane}}_reviews.db" style="text-decoration: none;">Скачать БД "Отзывы"</a>
										</button>
									</td>
								</tr>
								</tbody>
							</table>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>

	<footer class="footer pt-3  ">
		<div class="container-fluid">
			<div class="row align-items-center justify-content-lg-between">
				<div class="col-lg-6 mb-lg-0 mb-4">
					<div class="copyright text-center text-sm text-muted text-lg-start">
						© <script>
                  document.write(new Date().getFullYear())
                </script>,
						Владивостокский государственный университет.
					</div>
				</div>
			</div>
		</div>
	</footer>


	</div>
</main>


<!--   Core JS Files   -->
<script src="{% static 'js/core/popper.min.js' %}"></script>
<script src="{% static 'js/core/bootstrap.min.js' %}"></script>
<script src="{% static 'js/plugins/perfect-scrollbar.min.js' %}"></script>
<script src="{% static 'js/plugins/smooth-scrollbar.min.js' %}"></script>
<script src="{% static 'js/plugins/chartjs.min.js' %}"></script>
<script>
		var ctx = document.getElementById("chart-bars").getContext("2d");

		new Chart(ctx, {
		  type: "bar",
		  data: {
			labels: ["Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
			datasets: [{
			  label: "Sales",
			  tension: 0.4,
			  borderWidth: 0,
			  borderRadius: 4,
			  borderSkipped: false,
			  backgroundColor: "#fff",
			  data: [450, 200, 100, 220, 500, 100, 400, 230, 500],
			  maxBarThickness: 6
			}, ],
		  },
		  options: {
			responsive: true,
			maintainAspectRatio: false,
			plugins: {
			  legend: {
				display: false,
			  }
			},
			interaction: {
			  intersect: false,
			  mode: 'index',
			},
			scales: {
			  y: {
				grid: {
				  drawBorder: false,
				  display: false,
				  drawOnChartArea: false,
				  drawTicks: false,
				},
				ticks: {
				  suggestedMin: 0,
				  suggestedMax: 500,
				  beginAtZero: true,
				  padding: 15,
				  font: {
					size: 14,
					family: "Open Sans",
					style: 'normal',
					lineHeight: 2
				  },
				  color: "#fff"
				},
			  },
			  x: {
				grid: {
				  drawBorder: false,
				  display: false,
				  drawOnChartArea: false,
				  drawTicks: false
				},
				ticks: {
				  display: false
				},
			  },
			},
		  },
		});


		var ctx2 = document.getElementById("chart-line").getContext("2d");

		var gradientStroke1 = ctx2.createLinearGradient(0, 230, 0, 50);

		gradientStroke1.addColorStop(1, 'rgba(203,12,159,0.2)');
		gradientStroke1.addColorStop(0.2, 'rgba(72,72,176,0.0)');
		gradientStroke1.addColorStop(0, 'rgba(203,12,159,0)'); //purple colors

		var gradientStroke2 = ctx2.createLinearGradient(0, 230, 0, 50);

		gradientStroke2.addColorStop(1, 'rgba(20,23,39,0.2)');
		gradientStroke2.addColorStop(0.2, 'rgba(72,72,176,0.0)');
		gradientStroke2.addColorStop(0, 'rgba(20,23,39,0)'); //purple colors

		new Chart(ctx2, {
		  type: "line",
		  data: {
			labels: ["Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
			datasets: [{
				label: "Mobile apps",
				tension: 0.4,
				borderWidth: 0,
				pointRadius: 0,
				borderColor: "#cb0c9f",
				borderWidth: 3,
				backgroundColor: gradientStroke1,
				fill: true,
				data: [50, 40, 300, 220, 500, 250, 400, 230, 500],
				maxBarThickness: 6

			  },
			  {
				label: "Websites",
				tension: 0.4,
				borderWidth: 0,
				pointRadius: 0,
				borderColor: "#3A416F",
				borderWidth: 3,
				backgroundColor: gradientStroke2,
				fill: true,
				data: [30, 90, 40, 140, 290, 290, 340, 230, 400],
				maxBarThickness: 6
			  },
			],
		  },
		  options: {
			responsive: true,
			maintainAspectRatio: false,
			plugins: {
			  legend: {
				display: false,
			  }
			},
			interaction: {
			  intersect: false,
			  mode: 'index',
			},
			scales: {
			  y: {
				grid: {
				  drawBorder: false,
				  display: true,
				  drawOnChartArea: true,
				  drawTicks: false,
				  borderDash: [5, 5]
				},
				ticks: {
				  display: true,
				  padding: 10,
				  color: '#b2b9bf',
				  font: {
					size: 11,
					family: "Open Sans",
					style: 'normal',
					lineHeight: 2
				  },
				}
			  },
			  x: {
				grid: {
				  drawBorder: false,
				  display: false,
				  drawOnChartArea: false,
				  drawTicks: false,
				  borderDash: [5, 5]
				},
				ticks: {
				  display: true,
				  color: '#b2b9bf',
				  padding: 20,
				  font: {
					size: 11,
					family: "Open Sans",
					style: 'normal',
					lineHeight: 2
				  },
				}
			  },
			},
		  },
		});
	  </script>
<script>
		var win = navigator.platform.indexOf('Win') > -1;
		if (win && document.querySelector('#sidenav-scrollbar')) {
		  var options = {
			damping: '0.5'
		  }
		  Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
		}
	  </script>
<!-- Github buttons -->
<script async defer src="https://buttons.github.io/buttons.js"></script>
<!-- Control Center for Soft Dashboard: parallax effects, scripts for the example pages etc -->
<script src="{% static 'js/soft-ui-dashboard.min.js' %}"></script>
</body>
{% endblock %}